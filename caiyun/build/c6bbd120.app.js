webpackJsonp([1],{0:function(e,t,n){e.exports=n(133)},27:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=n(143),i=a(o);n(134);var l=n(32),u=a(l);n(135);var s={ajaxList:{},ajax:function(e,t){var n=this,a=Array.prototype.slice.call(arguments,0);a[0]="/mock/"+a[0]+".json",a[0]=this.makeUrl(e,t);var o="get",l={};"string"==typeof t?null:l=t;var u=null;"object"==r(a[1])&&(o=a[1].method.toLowerCase(),l=JSON.parse(a[1].body),u=a[1].headers?{dataType:"json"}:null,a[1].urlParam&&(a[0]+="&"+a[1].urlParam),o="post"),l.ts=+new Date,l.token="8b4fa0650e1866d5bd68a8dca678ada0",l.uid="10101001610432",l.orgId=57171554250,l.uname="田想兵",l.deptName="讯盟科技",l.orgName="青城集团"+localStorage.getItem("orgName");for(var s in this.ajaxList)if(a[0]==this.ajaxList[s])return console.log("loading..."),{then:function(){}};return this.ajaxList[+new Date]=a[0],this.deleteUrl(),i["default"][o](a[0],l,u).then(function(e,t){for(var r in n.ajaxList)a[0]==n.ajaxList[r]&&delete n.ajaxList[r];return t})},deleteUrl:function(){setTimeout(function(){for(var e in this.ajaxList)e+1e3<+new Date&&delete this.ajaxList[e]},1e3)},makeUrl:function(e,t){var n="/approve/",a=(u["default"].load("orgId")||localStorage.getItem("orgId"),Math.random());switch(e){case"save":return n+"apply/save?h5t="+a;case"upload":return n+"approve/uploadImage?h5t="+a;case"queryApplyDetail":return n+"apply/queryApplyDetail?h5t="+a;case"lastSelected":return n+"extraknower/lastSelected?h5t="+a;case"getFlowByType":return n+"flow/getFlowByType?h5t="+a}},"native":function(e,t){var n=navigator.userAgent.indexOf("Android")>-1||navigator.userAgent.indexOf("Adr")>-1,a=localStorage.getItem("orgId"),r=localStorage.getItem("orgName"),o=null;switch(e){case"getorglist":return window.setOrgCookie=function(e){e=JSON.parse(decodeURI(e));var t={code:200,data:e};o&&o.call(null,t)},n?window.Native_Bridge_uban.onJsCall("setOrgCookie","getOrginfo"):window.getOrgIOS&&window.getOrgIOS(),{then:function(e){o=e}};case"selectPictures":return window.AndroidUploadImage=function(e){alert(1),e=JSON.parse(decodeURI(e));var t={code:200,data:e};o&&o.call(null,t)},n?window.Native_Bridge_uban.onJsCall("AndroidUploadImage","selectPicture",t.count+"&"+t.sum):window.selectPictureIOS&&window.selectPictureIOS(t.count,t.sum),{then:function(e){o=e}};case"setTime":return window.setTime=function(e){var t={code:200,data:e};try{o&&o.call(null,t)}catch(n){alert(n)}},n?window.Native_Bridge_uban.onJsCall("setTime","getTime"):selectTimeIOS(),{then:function(e){o=e}};case"selectPeopleIOS":try{window.AndroidChoosePeople=function(e){alert(1),e=JSON.parse(e);var t={code:200,data:e};o&&o.call(null,t)},alert("500&"+a+"&"+r),n?window.Native_Bridge_uban.onJsCall("AndroidChoosePeople","selectPeople","500&"+a+"&"+r):window.selectPeopleIOS&&window.selectPeopleIOS("500",a,r)}catch(i){alert(i)}return{then:function(e){o=e}};case"showImage":return n?location.href="uban://start/showImage?position="+t.position+"&urls="+JSON.stringify(t.picsArr):window.viewPicturesIOS&&window.viewPicturesIOS(t.position,JSON.stringify(t.picsArr)),{then:function(e){o=e}};default:return setTimeout(function(){window.JSBridge.requestHybrid({method:e,data:t,callback:function(e){o&&o(e)}})},0),{then:function(e){o=e}}}return fetch("/mock/"+e+".json").then(function(e){return e.json()})}};t["default"]=s},31:function(e,t){"use strict";e.exports=function(e,t){t.setState({dialog:{show:!0,msg:e,type:"alert"}})}},32:function(e,t,n){function a(){return!!p&&p.headersSent!==!0}function r(e,t){var n="undefined"==typeof document?f:c.parse(document.cookie),a=n&&n[e];if(!t)try{a=JSON.parse(a)}catch(r){}return a}function o(e){var t="undefined"==typeof document?f:c.parse(document.cookie);return t?e?Object.keys(t).reduce(function(n,a){if(!e.test(a))return n;var r={};return r[a]=t[a],Object.assign({},n,r)},{}):t:{}}function i(e,t,n){f[e]=t,"object"==typeof t&&(f[e]=JSON.stringify(t)),"undefined"!=typeof document&&(document.cookie=c.serialize(e,f[e],n)),a()&&p.cookie&&p.cookie(e,t,n)}function l(e,t){delete f[e],"undefined"==typeof t?t={}:"string"==typeof t&&(t={path:t}),"undefined"!=typeof document&&(t.expires=new Date(1970,1,1,0,0,1),document.cookie=c.serialize(e,"",t)),a()&&p.clearCookie&&p.clearCookie(e,t)}function u(e){f=e?c.parse(e):{}}function s(e,t){return e.cookie?f=e.cookie:e.cookies?f=e.cookies:e.headers&&e.headers.cookie?u(e.headers.cookie):f={},p=t,function(){p=null,f={}}}var c=n(144);"function"!=typeof Object.assign&&(Object.assign=function(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e});var f={},p=void 0,d={load:r,select:o,save:i,remove:l,setRawCookie:u,plugToRequest:s};"undefined"!=typeof window&&(window.reactCookie=d),e.exports=d},47:function(e,t,n){function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=function(e,t,n){for(var a=!0;a;){var r=e,o=t,i=n;a=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,o);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(i)}var s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=i,a=!0,l=s=void 0}},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=n(2),f=a(c),p=n(151),d=a(p),m=n(147),h=a(m),y=n(150),v=a(y),b=n(145),g=n(146),E=a(g),w="data-react-helmet",T=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},O=function(e,t){for(var n=[].concat(e).reverse(),a=0;a<n.length;a++){var r=n[a];if(r[t])return r[t]}return null},S=function(e){var t=O(e,"title"),n=O(e,"titleTemplate");if(n&&t)return n.replace(/\%s/g,t);var a=O(e,"defaultTitle");return t||a||""},k=function(e){return O(e,"onChangeClientState")||function(){}},j=function(e){return e.filter(function(e){return"undefined"!=typeof e[b.TAG_NAMES.HTML]}).map(function(e){return e[b.TAG_NAMES.HTML]}).reduce(function(e,t){return s({},e,t)},{})},_=function(e,t){return t.filter(function(e){return"undefined"!=typeof e[b.TAG_NAMES.BASE]}).map(function(e){return e[b.TAG_NAMES.BASE]}).reverse().reduce(function(t,n){if(!t.length)for(var a=Object.keys(n),r=0;r<a.length;r++){var o=a[r],i=o.toLowerCase();if(e.indexOf(i)!==-1)return t.concat(n)}return t},[])},N=function(e,t,n){var a={},r=n.filter(function(t){return"undefined"!=typeof t[e]}).map(function(t){return t[e]}).reverse().reduce(function(e,n){var r={};n.filter(function(e){for(var n=void 0,o=Object.keys(e),i=0;i<o.length;i++){var l=o[i],u=l.toLowerCase();t.indexOf(u)===-1||n===b.TAG_PROPERTIES.REL&&"canonical"===e[n].toLowerCase()||u===b.TAG_PROPERTIES.REL&&"stylesheet"===e[u].toLowerCase()||(n=u),t.indexOf(l)===-1||l!==b.TAG_PROPERTIES.INNER_HTML&&l!==b.TAG_PROPERTIES.CSS_TEXT||(n=l)}if(!n)return!1;var s=e[n].toLowerCase();return a[n]||(a[n]={}),r[n]||(r[n]={}),!a[n][s]&&(r[n][s]=!0,!0)}).reverse().forEach(function(t){return e.push(t)});for(var o=Object.keys(r),i=0;i<o.length;i++){var l=o[i],u=(0,v["default"])({},a[l],r[l]);a[l]=u}return e},[]).reverse();return r},P=function(e){document.title=e||document.title},x=function(e){for(var t=document.getElementsByTagName("html")[0],n=t.getAttribute(w),a=n?n.split(","):[],r=[].concat(a),o=Object.keys(e),i=0;i<o.length;i++){var l=o[i],u=e[l]||"";t.setAttribute(l,u),a.indexOf(l)===-1&&a.push(l);var s=r.indexOf(l);s!==-1&&r.splice(s,1)}for(var i=r.length-1;i>=0;i--)t.removeAttribute(r[i]);a.length===r.length?t.removeAttribute(w):t.setAttribute(w,a.join(","))},A=function(e,t){var n=document.head||document.querySelector("head"),a=n.querySelectorAll(e+"["+w+"]"),r=Array.prototype.slice.call(a),o=[],i=void 0;return t&&t.length&&t.forEach(function(t){var n=document.createElement(e);for(var a in t)if(t.hasOwnProperty(a))if("innerHTML"===a)n.innerHTML=t.innerHTML;else if("cssText"===a)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var l="undefined"==typeof t[a]?"":t[a];n.setAttribute(a,l)}n.setAttribute(w,"true"),r.some(function(e,t){return i=t,n.isEqualNode(e)})?r.splice(i,1):o.push(n)}),r.forEach(function(e){return e.parentNode.removeChild(e)}),o.forEach(function(e){return n.appendChild(e)}),{oldTags:r,newTags:o}},C=function(e){for(var t=Object.keys(e),n="",a=0;a<t.length;a++){var r=t[a],o="undefined"!=typeof e[r]?r+'="'+e[r]+'"':""+r;n+=o+" "}return n.trim()},I=function(e,t){var n="<"+e+" "+w+'="true">'+T(t)+"</"+e+">";return n},L=function(e,t){var n=t.map(function(t){var n=Object.keys(t).filter(function(e){return!("innerHTML"===e||"cssText"===e)}).map(function(e){if("undefined"==typeof t[e])return e;var n=T(t[e]);return e+'="'+n+'"'}).join(" ").trim(),a=t.innerHTML||t.cssText||"";return"<"+e+" "+w+'="true" '+n+(e===b.TAG_NAMES.SCRIPT||e===b.TAG_NAMES.STYLE?">"+a+"</"+e+">":"/>")}).join("");return n},M=function(e,t){var n=[f["default"].createElement(b.TAG_NAMES.TITLE,i({key:t},w,!0),t)];return n},R=function(e,t){var n=t.map(function(t,n){var a=i({key:n},w,!0);return Object.keys(t).forEach(function(e){var n=b.REACT_TAG_MAP[e]||e;if("innerHTML"===n||"cssText"===n){var r=t.innerHTML||t.cssText;a.dangerouslySetInnerHTML={__html:r}}else a[n]=t[e]}),f["default"].createElement(e,a)});return n},D=function(e,t){switch(e){case b.TAG_NAMES.TITLE:return{toComponent:function(){return M(e,t)},toString:function(){return I(e,t)}};case b.TAG_NAMES.HTML:return{toComponent:function(){return t},toString:function(){return C(t)}};default:return{toComponent:function(){return R(e,t)},toString:function(){return L(e,t)}}}},U=function(e){var t=e.htmlAttributes,n=e.title,a=e.baseTag,r=e.metaTags,o=e.linkTags,i=e.scriptTags,l=e.styleTags;return{htmlAttributes:D(b.TAG_NAMES.HTML,t),title:D(b.TAG_NAMES.TITLE,n),base:D(b.TAG_NAMES.BASE,a),meta:D(b.TAG_NAMES.META,r),link:D(b.TAG_NAMES.LINK,o),script:D(b.TAG_NAMES.SCRIPT,i),style:D(b.TAG_NAMES.STYLE,l)}},G=function(e){var t=function(t){function n(){r(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}return o(n,t),l(n,[{key:"shouldComponentUpdate",value:function(e){return!(0,h["default"])(this.props,e)}},{key:"render",value:function(){return f["default"].createElement(e,this.props)}}],[{key:"propTypes",value:{htmlAttributes:f["default"].PropTypes.object,title:f["default"].PropTypes.string,defaultTitle:f["default"].PropTypes.string,titleTemplate:f["default"].PropTypes.string,base:f["default"].PropTypes.object,meta:f["default"].PropTypes.arrayOf(f["default"].PropTypes.object),link:f["default"].PropTypes.arrayOf(f["default"].PropTypes.object),script:f["default"].PropTypes.arrayOf(f["default"].PropTypes.object),style:f["default"].PropTypes.arrayOf(f["default"].PropTypes.object),onChangeClientState:f["default"].PropTypes.func},enumerable:!0},{key:"peek",value:e.peek,enumerable:!0},{key:"rewind",value:function(){var t=e.rewind();return t||(t=U({htmlAttributes:[],title:"",baseTag:[],metaTags:[],linkTags:[],scriptTags:[],styleTags:[]})),t},enumerable:!0},{key:"canUseDOM",set:function(t){e.canUseDOM=t}}]),n}(f["default"].Component);return t},q=function(e){return{htmlAttributes:j(e),title:S(e),baseTag:_([b.TAG_PROPERTIES.HREF],e),metaTags:N(b.TAG_NAMES.META,[b.TAG_PROPERTIES.NAME,b.TAG_PROPERTIES.CHARSET,b.TAG_PROPERTIES.HTTPEQUIV,b.TAG_PROPERTIES.PROPERTY],e),linkTags:N(b.TAG_NAMES.LINK,[b.TAG_PROPERTIES.REL,b.TAG_PROPERTIES.HREF],e),scriptTags:N(b.TAG_NAMES.SCRIPT,[b.TAG_PROPERTIES.SRC,b.TAG_PROPERTIES.INNER_HTML],e),styleTags:N(b.TAG_NAMES.STYLE,[b.TAG_PROPERTIES.CSS_TEXT],e),onChangeClientState:k(e)}},J=function(e){var t=e.htmlAttributes,n=e.title,a=e.baseTag,r=e.metaTags,o=e.linkTags,i=e.scriptTags,l=e.styleTags,u=e.onChangeClientState;x(t),P(n);var s={baseTag:A(b.TAG_NAMES.BASE,a),metaTags:A(b.TAG_NAMES.META,r),linkTags:A(b.TAG_NAMES.LINK,o),scriptTags:A(b.TAG_NAMES.SCRIPT,i),styleTags:A(b.TAG_NAMES.STYLE,l)},c={},f={};Object.keys(s).forEach(function(e){var t=s[e],n=t.newTags,a=t.oldTags;n.length&&(c[e]=n),a.length&&(f[e]=s[e].oldTags)}),u(e,c,f)},H=(0,d["default"])(q,J,U);t["default"]=G(H(E["default"])),e.exports=t["default"]},74:function(e,t,n){(function(e,a){function r(e,t){this._id=e,this._clearFn=t}var o=n(122).nextTick,i=Function.prototype.apply,l=Array.prototype.slice,u={},s=0;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=s++,a=!(arguments.length<2)&&l.call(arguments,1);return u[n]=!0,o(function(){u[n]&&(a?e.apply(null,a):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof a?a:function(e){delete u[e]}}).call(t,n(74).setImmediate,n(74).clearImmediate)},75:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(2),s=a(u),c=s["default"].Component,f=function(e){function t(e){r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.state={show:e.show,msg:e.msg},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;(this.props.timer||"alert"==this.props.type)&&(this.timer=setTimeout(function(){e.setState({show:!1}),e.props.stage.setState({dialog:0})},2e3))}},{key:"hide",value:function(){this.props.hide()}},{key:"render",value:function(){var e="";return this.state.show&&(e=s["default"].createElement("div",null,s["default"].createElement("div",{className:"dialog "+this.props.type},s["default"].createElement("div",null,this.props.msg),this.props.buttons),this.props.mask?s["default"].createElement("div",{className:"dialog-mask",onClick:this.hide.bind(this)}):void 0)),s["default"].createElement("div",null,e)}}]),t}(c);t["default"]=f},122:function(e,t){function n(){f&&s&&(f=!1,s.length?c=s.concat(c):p=-1,c.length&&a())}function a(){if(!f){var e=i(n);f=!0;for(var t=c.length;t;){for(s=c,c=[];++p<t;)s&&s[p].run();p=-1,t=c.length}s=null,f=!1,l(e)}}function r(e,t){this.fun=e,this.array=t}function o(){}var i,l,u=e.exports={};!function(){try{i=setTimeout}catch(e){i=function(){throw new Error("setTimeout is not defined")}}try{l=clearTimeout}catch(e){l=function(){throw new Error("clearTimeout is not defined")}}}();var s,c=[],f=!1,p=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new r(e,t)),1!==c.length||f||i(a,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=o,u.addListener=o,u.once=o,u.off=o,u.removeListener=o,u.removeAllListeners=o,u.emit=o,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},123:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(2),s=a(u),c=n(124),f=a(c),p=n(27),d=a(p),m=n(31),h=a(m),y=s["default"].Component,v=function(e){function t(e){r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.state={detail:[{key:+new Date}],caigouList:[],sumPrice:0,expectPayDate:void 0},n}return i(t,e),l(t,[{key:"getValues",value:function(){var e=this,t=[];return this.state.detail.forEach(function(n,a){var r=e.refs["caigouDetail"+a].getValues();console.log(r),t.push(r)}),{applyResean:this.refs.applyResean.value,amount:this.state.sumPrice,expectPayDate:this.state.expectPayDate,detailJArr:t}}},{key:"AddRow",value:function(){this.state.detail.push({key:+new Date}),this.setState({detail:this.state.detail})}},{key:"del",value:function(e){var t=this.state.detail,n=t;n.splice(e,1),this.setState({detail:n})}},{key:"computeMoney",value:function(){var e=this;console.log(this.refs);var t=0;this.state.detail.forEach(function(n,a){var r=e.refs["caigouDetail"+a].getMoney();t+=r}),this.setState({sumPrice:t})}},{key:"validate",value:function n(){var e=!0;if(""==this.refs.applyResean.value)return(0,h["default"])("请输入采购事由",this.props.stage),!1;if(""==this.state.expectPayDate)return(0,h["default"])("请选择期望交付日期",this.props.stage),!1;for(var t=0,a=this.state.detail.length-1;t<=a;t++){var n=(this.state.detail[t],this.refs["caigouDetail"+t].validate());if(0==n.status){e=!1,(0,h["default"])(n.text,this.props.stage);break}}return e}},{key:"setTime",value:function(){var e=this;d["default"]["native"]("setTime").then(function(t){e.setState({expectPayDate:t.data})})}},{key:"render",value:function(){var e=this;return s["default"].createElement("div",null,s["default"].createElement("div",{className:"txt-reason"},s["default"].createElement("textarea",{ref:"applyResean",maxLength:"60",placeholder:"请输入采购事由（必填）"})),s["default"].createElement("div",{className:"row",onClick:this.setTime.bind(this)},s["default"].createElement("span",null,"期望交付日期"),s["default"].createElement("input",{type:"text",placeholder:"请选择（必填）",value:this.state.expectPayDate,readonly:"readonly",disabled:"true"})),this.state.detail.map(function(t,n){var a=n+1;return s["default"].createElement(f["default"],{detail:e.state.detail,ref:"caigouDetail"+n,index:a,computeMoney:e.computeMoney.bind(e),item:t,key:t.key,del:e.del.bind(e,n)})}),s["default"].createElement("div",{className:"row add-row",onClick:this.AddRow.bind(this)},s["default"].createElement("i",{className:"iconfont icon-113"}),"添加采购明细"),s["default"].createElement("div",{className:"row sum-price"},"总价（元）:",s["default"].createElement("span",null,this.state.sumPrice.toFixed(2))))}}]),t}(y);t["default"]=v},124:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(2),s=a(u),c=s["default"].Component,f=function(e){function t(e){r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.text=[{field:"item",text:"名称"},{field:"spec",text:"规格"},{field:"unit",text:"单位"},{field:"price",text:"价格"},{field:"quantity",text:"数量"}],n.state={item:{price:"",quantity:"",spec:"",item:"",unit:""}},n}return i(t,e),l(t,[{key:"del",value:function(e){var t=!1;for(var n in this.state.item)""!=this.state.item[n]&&(t=!0);t?confirm("确定删除采购明细"+this.props.index+"?")&&this.props.del(this.props.index):this.props.del(this.props.index)}},{key:"componentDidMount",value:function(){this.setState({state:this.props.item})}},{key:"change",value:function(e,t){var n=t.target.value;if("price"==e){var a=/^[0-9]+(\.)?([0-9]{1,2})?$/;a.test(n)||""==n?this.state.item[e]=n:this.state.item[e]=this.state.item[e],this.setState({item:this.state.item})}else if("quantity"==e){var r=/^[0-9]+(\.)?([0-9]{1,2})?$/;r.test(n)||""==n?this.state.item[e]=n:this.state.item[e]=this.state.item[e],this.setState({item:this.state.item})}else this.state.item[e]=n,this.setState({item:this.state.item});this.props.computeMoney(this)}},{key:"getMoney",value:function(){var e=this.state.item.price||0,t=this.state.item.quantity||0;return e*t}},{key:"validate",value:function(){for(var e={status:!0},t=this.text.length-1;t>=0;t--){var n=this.text[t];0==this.state.item[n.field].length&&(e={status:!1,text:"请输入采购明细"+this.props.index+"的"+n.text})}return e}},{key:"getValues",value:function(){var e={};return Object.assign(e,this.state.item),e}},{key:"render",value:function(){return s["default"].createElement("div",null,s["default"].createElement("div",{className:"detail",title:this.props.title},s["default"].createElement("h3",null,"采购明细",this.props.detail.length>1?"("+this.props.index+")":void 0," ",s["default"].createElement("a",{onClick:this.del.bind(this),className:this.props.index>1?"del":"hide"},"删除")),s["default"].createElement("div",{className:"formbox"},s["default"].createElement("div",{className:"rowinput"},"名称",s["default"].createElement("input",{type:"text",ref:"item",maxLength:"60",value:this.state.item.item,onChange:this.change.bind(this,"item"),placeholder:"请输入（必填）"})),s["default"].createElement("div",{className:"rowinput"},"规格",s["default"].createElement("input",{type:"text",ref:"spec",maxLength:"60",value:this.state.item.spec,onChange:this.change.bind(this,"spec"),placeholder:"请输入（必填）"})),s["default"].createElement("div",{className:"rowinput"},"单位",s["default"].createElement("input",{type:"text",ref:"unit",maxLength:"60",value:this.state.item.unit,onChange:this.change.bind(this,"unit"),placeholder:"请输入（必填）"})),s["default"].createElement("div",{className:"rowinput"},"单价（元）",s["default"].createElement("input",{type:"text",ref:"price",maxLength:"12",value:this.state.item.price,onChange:this.change.bind(this,"price"),placeholder:"请输入（必填）"})),s["default"].createElement("div",{className:"rowinput"},"数量",s["default"].createElement("input",{type:"text",ref:"quantity",maxLength:"12",value:this.state.item.quantity,onChange:this.change.bind(this,"quantity"),placeholder:"请输入（必填）"})))))}}]),t}(c);t["default"]=f},125:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(2),s=a(u),c=n(126),f=a(c),p=n(31),d=a(p),m=s["default"].Component,h=function(e){function t(e){r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.state={detail:[{key:+new Date}],caigouList:[],sumPrice:0,expectPayDate:void 0},n}return i(t,e),l(t,[{key:"getValues",value:function(){var e=this,t={detailJArr:[]},n=[];return this.state.detail.forEach(function(t,a){var r=e.refs["caigouDetail"+a].getValues();console.log(r),n.push(r)}),t.detailJArr=n,t.amount=this.state.sumPrice,t.applyResean="报销总金额"+t.amount,t}},{key:"AddRow",value:function(){this.state.detail.push({key:+new Date}),this.setState({detail:this.state.detail})}},{key:"del",value:function(e){var t=this.state.detail,n=t;n.splice(e,1),this.setState({detail:n})}},{key:"computeMoney",value:function(){var e=this;console.log(this.refs);var t=0;this.state.detail.forEach(function(n,a){var r=e.refs["caigouDetail"+a].getMoney();t+=r}),this.setState({sumPrice:t})}},{key:"validate",value:function n(){for(var e=!0,t=0,a=this.state.detail.length-1;t<=a;t++){var n=(this.state.detail[t],this.refs["caigouDetail"+t].validate());if(0==n.status){e=!1,(0,d["default"])(n.text,this.props.stage);break}}return e}},{key:"setTime",value:function(){var e=this;Config["native"]("setTime").then(function(t){console.log(t.data),e.setState({expectPayDate:t.data})})}},{key:"render",value:function(){var e=this;return s["default"].createElement("div",null,this.state.detail.map(function(t,n){var a=n+1;return s["default"].createElement(f["default"],{detail:e.state.detail,ref:"caigouDetail"+n,index:a,computeMoney:e.computeMoney.bind(e),item:t,key:t.key,del:e.del.bind(e,n)})}),s["default"].createElement("div",{className:"row add-row",onClick:this.AddRow.bind(this)},s["default"].createElement("i",{className:"iconfont icon-113"}),"添加报销明细"),s["default"].createElement("div",{className:"row sum-price"},"总价（元）:",s["default"].createElement("span",null,this.state.sumPrice.toFixed(2))))}}]),t}(m);t["default"]=h},126:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(2),s=a(u),c=n(27),f=a(c),p=s["default"].Component,d=function(e){function t(e){r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.imgList=[],n.typeArr=["交通费","住宿费","通讯费","采购费","餐补费","其他"],n.text=[{field:"money",text:"价格"}],n.state={type:0,imgList:[],showUpload:!0,item:{money:"",type:0,remark:"",photoJArr:""}},n}return i(t,e),l(t,[{key:"del",value:function(e){var t=!1;for(var n in this.state.item)""!=this.state.item[n]&&(t=!0);t?confirm("确定删除报销明细"+this.props.index+"?")&&this.props.del(this.props.index):this.props.del(this.props.index)}},{key:"componentDidMount",value:function(){this.setState({state:this.props.item})}},{key:"change",value:function(e,t){var n=t.target.value;if("money"==e){var a=/^[0-9]+(\.)?([0-9]{1,2})?$/;a.test(n)||""==n?this.state.item[e]=n:this.state.item[e]=this.state.item[e],this.setState({item:this.state.item})}else this.state.item[e]=n,this.setState({item:this.state.item});this.props.computeMoney(this)}},{key:"getMoney",value:function(){return Number(this.state.item.money)}},{key:"validate",value:function(){for(var e={status:!0},t=this.text.length-1;t>=0;t--){var n=this.text[t];0==this.state.item[n.field].length&&(e={status:!1,text:"请输入报销明细"+this.props.index+"的"+n.text})}return e}},{key:"selectPictrues",value:function(){if(!this.state.showUpload)return!1;var e=this;f["default"]["native"]("selectPictures",{count:this.state.imgList.length,sum:4}).then(function(t){if(200==t.code){var n=t.data.map(function(e){return{data:e,uploaded:!1}});n=e.state.imgList.concat(n),console.log(n),e.setState({imgList:n}),n.length>=4&&e.setState({showUpload:!1}),e.upload()}})}},{key:"delImg",value:function(e,t){this.state.imgList.splice(t,1),this.setState({imgList:this.state.imgList,showUpload:!0}),this.imgList.splice(t,1)}},{key:"upload",value:function(){var e=this;this.state.imgList.forEach(function(t,n){if(!t.uploaded&&!t.uploading){var a={index:n.toString(),imageData:t.data};t.uploading=!0,f["default"].ajax("upload",{method:"POST",body:JSON.stringify(a)}).then(function(t){200==t.code&&!function(){var n=t.data,a=n.index,r=e.state.imgList.map(function(e,t){return t==a&&(e.uploaded=!0),e});e.setState({imgList:r}),e.imgList.push(n.url)}()})}})}},{key:"selectType",value:function(e){this.setState({type:e})}},{key:"getValues",value:function(){var e={};return Object.assign(e,this.state.item,{photoJArr:this.imgList}),e}},{key:"render",value:function(){var e=this;return s["default"].createElement("div",null,s["default"].createElement("div",{className:"detail",title:this.props.title},s["default"].createElement("h3",null,"报销明细",this.props.detail.length>1?"("+this.props.index+")":void 0," ",s["default"].createElement("a",{onClick:this.del.bind(this),className:this.props.index>1?"del":"hide"},"删除")),s["default"].createElement("div",{className:"formbox"},s["default"].createElement("div",{className:"rowinput"},"报销类型",s["default"].createElement("div",{className:"type-list"},this.typeArr.map(function(t,n){return s["default"].createElement("a",{onClick:e.selectType.bind(e,n),className:e.state.type==n?"focus":void 0
},t)}))),s["default"].createElement("div",{className:"rowinput"},"金额（元）",s["default"].createElement("input",{type:"text",ref:"price",maxLength:"12",value:this.state.item.money,onChange:this.change.bind(this,"money"),placeholder:"请输入（必填）"})),s["default"].createElement("div",{className:"row add-photo rowinput"},s["default"].createElement("h4",{onClick:this.selectPictrues.bind(this)},"照片",s["default"].createElement("span",null,"(最多可添加4张)"),s["default"].createElement("i",{className:"iconfont icon-qiandaotianjiazhaopian"})),s["default"].createElement("div",{className:"upload-list"},this.state.imgList.map(function(t,n){return console.log(t.uploaded),s["default"].createElement("div",{key:n,className:"item"},t.uploaded?s["default"].createElement("i",{onClick:e.delImg.bind(e,t,n),className:"del iconfont icon-103"}):s["default"].createElement("span",{className:"uploading"},"上传中..."),s["default"].createElement("img",{src:"data:image/png;base64,"+t.data}))}))),s["default"].createElement("div",{className:"txt-reason rowinput"},s["default"].createElement("textarea",{ref:"applyResean",value:this.state.item.applyResean,onChange:this.change.bind(this,"applyResean"),maxLength:"140",placeholder:"备注（非必填）"})))))}}]),t}(p);t["default"]=d},127:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(2),s=a(u),c=n(31),f=a(c),p=s["default"].Component,d=function(e){function t(e){r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.state={applyDetail:""},n}return i(t,e),l(t,[{key:"getValues",value:function(){return{applyDetail:this.refs.applyDetail.value,applyResean:this.refs.applyResean.value}}},{key:"validate",value:function(){return""==this.refs.applyDetail.value?((0,f["default"])("请输入申请内容",this.props.stage),!1):""==this.refs.applyResean.value?((0,f["default"])("请输入申请详情",this.props.stage),!1):void 0}},{key:"render",value:function(){return s["default"].createElement("div",null,s["default"].createElement("div",{className:"row applyDetail"},s["default"].createElement("span",null,"申请内容"),s["default"].createElement("input",{type:"text",ref:"applyDetail",maxLength:"60",placeholder:"请输入（必填）"})),s["default"].createElement("div",{className:"txt-reason"},s["default"].createElement("textarea",{ref:"applyResean",maxLength:"60",placeholder:"请输入申请详情（必填）"})))}}]),t}(p);t["default"]=d},128:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(2),s=a(u),c=n(129),f=a(c),p=s["default"].Component,d=function(e){function t(e){r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.detail=n.props.detail,n}return i(t,e),l(t,[{key:"render",value:function(){var e=this;return s["default"].createElement("div",null,s["default"].createElement("div",{className:"detail-row"},s["default"].createElement("label",null,"采购事由："),s["default"].createElement("span",null,"日常办公")),s["default"].createElement("div",{className:"detail-row"},s["default"].createElement("label",null,"期望交付日期："),s["default"].createElement("span",null,"2015.1.1")),s["default"].createElement("div",{className:"topborder"}),(this.detail.customStruct&&this.detail.customStruct.detailJArr||[]).map(function(t,n){var a=n+1;return s["default"].createElement(f["default"],{detail:e.detail.customStruct.detailJArr,ref:"caigouDetail"+n,index:a,item:t,key:n})}),s["default"].createElement("div",{className:"topborder"}),s["default"].createElement("div",{className:"detail-row sum-price"},s["default"].createElement("label",null,"总价："),s["default"].createElement("span",{className:"price"},this.detail.customStruct&&this.detail.customStruct.amount)),s["default"].createElement("div",{className:"detail-row"},s["default"].createElement("label",null,"相关照片："),s["default"].createElement("span",{className:"photos"},this.detail.photos&&this.detail.photos.length>0?(this.detail.photos||[]).map(function(e){return s["default"].createElement("img",{src:e.photo_url})}):"无")),s["default"].createElement("div",{className:"detail-row"},s["default"].createElement("label",null,"审批编号："),s["default"].createElement("span",null,this.detail.applyId)))}}]),t}(p);t["default"]=d},129:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(2),s=a(u),c=s["default"].Component,f=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return s["default"].createElement("div",{className:"one"},s["default"].createElement("div",{className:"detail",title:this.props.title},s["default"].createElement("div",{className:"detail-row"},s["default"].createElement("label",null,s["default"].createElement("b",null,"采购明细",this.props.detail.length>1?"("+this.props.index+")":void 0))),s["default"].createElement("div",{className:"detail-row"},s["default"].createElement("label",null,"名称："),this.props.item.item),s["default"].createElement("div",{className:"detail-row"},s["default"].createElement("label",null,"规格："),this.props.item.spec),s["default"].createElement("div",{className:"detail-row"},s["default"].createElement("label",null,"单位："),this.props.item.unit),s["default"].createElement("div",{className:"detail-row"},s["default"].createElement("label",null,"单价："),this.props.item.price),s["default"].createElement("div",{className:"detail-row"},s["default"].createElement("label",null,"数量："),this.props.item.quantity)))}}]),t}(c);t["default"]=f},130:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(2),s=a(u),c=n(131),f=a(c),p=s["default"].Component,d=function(e){function t(e){r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.detail=n.props.detail,n}return i(t,e),l(t,[{key:"render",value:function(){var e=this;return s["default"].createElement("div",null,s["default"].createElement("div",{className:"topborder"}),this.detail.customStruct.detailJArr.map(function(t,n){var a=n+1;return s["default"].createElement(f["default"],{detail:e.detail.customStruct.detailJArr,ref:"ExpenseDetail"+n,index:a,item:t,key:n})}),s["default"].createElement("div",{className:"topborder"}),s["default"].createElement("div",{className:"detail-row sum-price"},s["default"].createElement("label",null,"总价："),s["default"].createElement("span",{className:"price"},this.detail.customStruct.amount)),s["default"].createElement("div",{className:"detail-row"},s["default"].createElement("label",null,"审批编号："),s["default"].createElement("span",null,this.detail.applyId)))}}]),t}(p);t["default"]=d},131:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(2),s=a(u),c=s["default"].Component,f=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return s["default"].createElement("div",{className:"one"},s["default"].createElement("div",{className:"detail",title:this.props.title},s["default"].createElement("div",{className:"detail-row"},s["default"].createElement("label",null,s["default"].createElement("b",null,"报销明细",this.props.detail.length>1?"("+this.props.index+")":void 0))),s["default"].createElement("div",{className:"detail-row"},s["default"].createElement("label",null,"报销类型："),this.props.item.type),s["default"].createElement("div",{className:"detail-row"},s["default"].createElement("label",null,"金额（元）："),this.props.item.money),s["default"].createElement("div",{className:"detail-row"},s["default"].createElement("label",null,"备注："),this.props.item.remark),s["default"].createElement("div",{className:"detail-row"},s["default"].createElement("label",null,"相关照片："),s["default"].createElement("span",{className:"photos"},this.props.item.photoJArr&&this.props.item.photoJArr.length>0?(this.detail.photos||[]).map(function(e){return s["default"].createElement("img",{src:e})}):"无"))))}}]),t}(c);t["default"]=f},132:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(2),s=a(u),c=s["default"].Component,f=function(e){function t(e){r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.detail=n.props.detail,n}return i(t,e),l(t,[{key:"render",value:function(){return s["default"].createElement("div",null,s["default"].createElement("div",{className:"topborder"}),s["default"].createElement("div",{className:"detail-row sum-price"},s["default"].createElement("label",null,"申请内容："),s["default"].createElement("span",null,this.detail.applyResean)),s["default"].createElement("div",{className:"detail-row"},s["default"].createElement("label",null,"申请详情："),s["default"].createElement("span",null,this.detail.customStruct.applyDetail)))}}]),t}(c);t["default"]=f},133:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var r=n(2),o=a(r),i=n(76),l=n(51),u=n(139),s=(a(u),n(136)),c=a(s),f=n(137),p=a(f),d=n(138),m=a(d);(0,i.render)(o["default"].createElement(l.Router,{history:l.hashHistory},o["default"].createElement(l.Route,{path:"/",component:c["default"]}),o["default"].createElement(l.Route,{path:"/create/:type/:title",component:p["default"]}),o["default"].createElement(l.Route,{path:"/create/:type/:title/:id",component:p["default"]}),o["default"].createElement(l.Route,{path:"/detail/:type/:title/:id",component:m["default"]}),o["default"].createElement(l.Route,{path:"/detail/:type/:title/:id/:pageType",component:m["default"]})),document.getElementById("app"))},134:function(e,t,n){"use strict";n(140)},135:function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e){e.navigator&&e.navigator.userAgent||"";e.JSBridge={_SURPPORTED_API:null,H5API:{},_callback:{},_event:{},onSuccess:function(e,t){var a=this;if("string"==typeof e&&"object"===("undefined"==typeof t?"undefined":n(t)))try{JSBridge._callback[e](t)}catch(r){}else try{a._callback[e](t)}catch(r){}},onError:function(e){},requestHybrid:function(e){var t=this;if(e.callback){var n=e.callbackName||"token_"+(new Date).getTime();t._callback[n]=function(a){e.callback(a),delete t._callback[n]},e._token=n}var a=t._getUrlByParams(e,e.callbackName);t._postToNative(a)},_getUrlByParams:function(e){var t="",a="native://";return t+=a+e.method,e.data?("object"==n(e.data)&&(e.data=JSON.stringify(e.data)),t+="?data="+encodeURIComponent(e.data),t+="&callback="+e._token):t+="?callback="+e._token,t},_postToNative:function(e){var t=document.createElement("iframe");t.src=e,t.style.display="none",document.body.appendChild(t),document.body.removeChild(t),t=null}}}(window)},136:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(2),c=a(s),f=(n(51),n(47)),p=a(f),d=n(27),m=a(d),h=n(32),y=a(h),v=n(75),b=a(v),g=c["default"].Component,E=function(e){function t(e){r(this,t),localStorage.removeItem("outInfo");var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.isLocated=0,n.action=0,n.signType=0,n.state={corpList:[],currCorp:{},expand:!1,dialog:0},n}return i(t,e),u(t,[{key:"componentWillMount",value:function(){}},{key:"getQuery",value:function(e,t,n){new RegExp("(^|&|#)"+e+"=([^&]*)(&|$|#)","i");n=n||window;var a,r,o=n.location.href,i="";if(a="#"==t?o.split("#"):o.split("?"),r=1==a.length?"":a[1],""!=r)for(var l=r.split(/&|#/),u=l.length,s=arguments[0]+"=",c=0;c<u;c++)if(0==l[c].indexOf(s)){i=l[c].replace(s,"");break}return decodeURI(i)}},{key:"initCorp",value:function(){var e=this;m["default"]["native"]("getorglist").then(function(t){t=t.data,e.setState({corpList:t}),e.getQuery("orgId")&&(y["default"].save("orgId",e.getQuery("orgId"),{path:"/"}),localStorage.setItem("orgId",e.getQuery("orgId")));var n=localStorage.getItem("orgId"),a={};n&&"undefined"!=n?t.forEach(function(e){n==e.orgId&&(a=e)}):a=t[0],e.select(a),localStorage.setItem("orgName",a.orgName)})}},{key:"componentDidMount",value:function(){this.initCorp()}},{key:"componentWillUnmount",value:function(){}},{key:"select",value:function(e){this.state.currCorp=e,this.setState({currCorp:e,expand:!1}),localStorage.setItem("orgId",e.orgId),localStorage.setItem("orgName",e.orgName)}},{key:"expandOrg",value:function(){this.setState({expand:!this.state.expand})}},{key:"hideOrgList",value:function(){this.setState({expand:!1})}},{key:"hideSign",value:function(){this.setState({isShowSign:!1})}},{key:"renderDialog",value:function(){return console.log(this.state.dialog),c["default"].createElement(b["default"],l({stage:this},this.state.dialog))}},{key:"hideDialog",value:function(){this.setState({dialog:0})}},{key:"render",value:function(){var e=this;return c["default"].createElement("div",{className:"body"},c["default"].createElement(p["default"],{title:"审批"}),c["default"].createElement("div",{className:"header"},c["default"].createElement("div",{className:"orgInfo"},function(){return e.state.corpList.length>1?c["default"].createElement("div",{className:"focusorg",onClick:e.expandOrg.bind(e)},e.state.currCorp.orgName," ",c["default"].createElement("i",{className:e.state.expand?"triangle up":"triangle down"})):c["default"].createElement("div",{className:"focusorg"},e.state.currCorp.orgName)}(),c["default"].createElement("div",{className:this.state.expand?"orgList":"orgList hide"},(this.state.corpList||[]).map(function(t){return c["default"].createElement("div",{className:t.orgId==e.state.currCorp.orgId?"focusorg":"",onClick:e.select.bind(e,t)},t.orgName)}))),this.state.expand?c["default"].createElement("div",{className:"mask",onClick:this.hideOrgList.bind(this)}):null),c["default"].createElement("div",{className:"menu"},c["default"].createElement("a",{href:"http://10.0.10.46:8080/approve/app/tome.html"},c["default"].createElement("i",{className:"iconfont icon-111"}),"待我审批"),c["default"].createElement("a",{href:"http://10.0.10.46:8080/approve/app/fromme.html"},c["default"].createElement("i",{className:"iconfont icon-112 ifuck"}),"我发起的")),c["default"].createElement("a",{className:"followme",href:"http://10.0.10.46:8080/approve/app/notify.html"},"知会我的",c["default"].createElement("i",{className:"iconfont icon-xiayibu"})),c["default"].createElement("div",{className:"menu-list"},c["default"].createElement("a",{href:"http://10.0.10.46:8080/approve/app/form_qj.html"},c["default"].createElement("i",{className:"iconfont icon-110"}),"请假"),c["default"].createElement("a",{href:"http://10.0.10.46:8080/approve/app/form_tx.html"},c["default"].createElement("i",{className:"iconfont icon-107"}),"调休"),c["default"].createElement("a",{href:"http://10.0.10.46:8080/approve/app/form_wq.html"},c["default"].createElement("i",{className:"iconfont icon-108"}),"外出"),c["default"].createElement("a",{href:"http://10.0.10.46:8080/approve/app/form_cc.html"},c["default"].createElement("i",{className:"iconfont icon-109"}),"出差"),c["default"].createElement("a",{href:"#create/4/报销"},c["default"].createElement("i",{className:"iconfont icon-iconfontshenpicaigou02"}),"报销"),c["default"].createElement("a",{href:"#create/5/采购"},c["default"].createElement("i",{className:"iconfont icon-iconfontshenpicaigou01"}),"采购"),c["default"].createElement("a",{href:"#create/6/通用"},c["default"].createElement("i",{className:"iconfont icon-shenpi03"}),"通用"),c["default"].createElement("a",null,c["default"].createElement("i",{className:"iconfont"}),"　"),c["default"].createElement("a",null,c["default"].createElement("i",{className:"iconfont"}),"　")),this.state.dialog?this.renderDialog():void 0)}}]),t}(g);t["default"]=E},137:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(2),c=a(s),f=n(47),p=a(f),d=n(123),m=a(d),h=n(27),y=a(h),v=n(125),b=a(v),g=n(127),E=a(g),w=n(32),T=(a(w),n(75)),O=a(T),S=n(31),k=a(S),j=c["default"].Component,_=function(e){function t(e){r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return console.log(e),n.imgList=[],n.params=e.params,n.state={imgList:[],showUpload:!0,authList:[],informList:[],showAddPic:!0,dialog:0,isSet:0},n}return i(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this;4==this.params.type&&this.setState({showAddPic:!1}),y["default"].ajax("lastSelected",{method:"post",body:JSON.stringify({applyType:this.props.params.type})}).then(function(t){var n=t,a=(n.result.flowInfos||[]).map(function(e){return{name:e.uname,uid:e.uid}});e.setState({informList:a})}),y["default"].ajax("getFlowByType",{method:"post",body:JSON.stringify({applyType:this.props.params.type})}).then(function(t){var n=t,a=(n.result.flowInfos||[]).map(function(e){return{name:e.uname,uid:e.uid}});e.setState({authList:a,isSet:n.result.isSet})})}},{key:"componentDidMount",value:function(){console.log(this.refs)}},{key:"submit",value:function(){var e=this;if(this.refs.myForm.validate()){var t=this.refs.myForm.getValues();console.log(t);var n={};n.applyType=this.props.params.type,n.customStruct=JSON.stringify(t),n.beginDate=new Date,n.endDate=new Date,n.flowStr=JSON.stringify(this.state.authList),n.photoStr=JSON.stringify(this.imgList),n.applyResean=t.applyResean,y["default"].ajax("save",{body:JSON.stringify(n),method:"post"}).then(function(t){200==t.status&&((0,k["default"])(e.props.params.title+"申请提交成功",e),setTimeout(function(){location.href="#/"},2e3))})}}},{key:"selectPictrues",value:function(){if(!this.state.showUpload)return!1;var e=this;y["default"]["native"]("selectPictures",{count:this.state.imgList.length,sum:4}).then(function(t){if(200==t.code){var n=t.data.map(function(e){return{data:e,uploaded:!1}});n=e.state.imgList.concat(n),console.log(n),e.setState({imgList:n}),n.length>=4&&e.setState({showUpload:!1}),e.upload()}})}},{key:"del",value:function(e,t){this.state.imgList.splice(t,1),this.setState({imgList:this.state.imgList,showUpload:!0}),this.imgList.splice(t,1)}},{key:"upload",value:function(){var e=this;this.state.imgList.forEach(function(t,n){if(!t.uploaded&&!t.uploading){var a={flag:n.toString(),Base64Stream:t.data};t.uploading=!0,y["default"].ajax("upload",{method:"POST",body:JSON.stringify(a)}).then(function(t){200==t.code&&!function(){var n=t.data,a=n.flag,r=e.state.imgList.map(function(e,t){return t==a&&(e.uploaded=!0),e});e.setState({imgList:r}),e.imgList.push(n.photo_url)}()})}})}},{key:"addUser",value:function(){var e=this;return this.checkIsUpload()?void this.setState({dialog:{mask:!0,show:!0,msg:"图片正在上传，请稍后",type:"alert"}}):void y["default"]["native"]("selectPeopleIOS").then(function(t){var n=t.data,a=e.state.authList.concat(n);e.setState({authList:a})})}},{key:"addUser2",value:function(){var e=this;return this.checkIsUpload()?void this.setState({dialog:{mask:!0,show:!0,msg:"图片正在上传，请稍后",type:"alert"}}):void y["default"]["native"]("selectPeopleIOS").then(function(t){var n=t.data,a=e.state.informList.concat(n);e.setState({informList:a})})}},{key:"checkIsUpload",value:function(){var e=!1;return this.state.imgList.forEach(function(t){t.uploaded||(e=!0)}),e}},{key:"errorImg",value:function(e,t){console.log(t);var n=["#f17474","#7ac47a","#efbc6b","#75a4d7","#45b2e3"],a=n[e.uid%5];e.error=!0,e.color=a,this.setState({authList:this.state.authList})}},{key:"formatImg",value:function(e){return e.error?c["default"].createElement("div",{className:"img",style:{backgroundColor:e.color}},e.name):void 0}},{key:"delPeople",value:function(e){this.state.isSet||(this.state.authList.splice(e,1),this.setState({authList:this.state.authList}))}},{key:"delPeople2",value:function(e){this.state.informList.splice(e,1),this.setState({informList:this.state.informList})}},{key:"renderForm",value:function(){var e=this.params.type;switch(parseInt(e)){case 5:return c["default"].createElement(m["default"],{ref:"myForm",stage:this});case 4:return c["default"].createElement(b["default"],{ref:"myForm",stage:this});case 6:return console.log("通用"),c["default"].createElement(E["default"],{ref:"myForm",stage:this})}}},{key:"renderDialog",value:function(){return console.log(this.state.dialog),c["default"].createElement(O["default"],l({stage:this},this.state.dialog))}},{key:"render",value:function(){var e=this;return c["default"].createElement("div",null,c["default"].createElement(p["default"],{title:this.params.title}),this.renderForm(),this.state.showAddPic?c["default"].createElement("div",{className:"row add-photo"},c["default"].createElement("h4",{onClick:this.selectPictrues.bind(this)},"照片",c["default"].createElement("span",null,"(最多可添加4张)"),c["default"].createElement("i",{className:"iconfont icon-qiandaotianjiazhaopian"})),c["default"].createElement("div",{className:"upload-list"},this.state.imgList.map(function(t,n){return console.log(t.uploaded),c["default"].createElement("div",{key:n,className:"item"},t.uploaded?c["default"].createElement("i",{onClick:e.del.bind(e,t,n),className:"del iconfont icon-103"}):c["default"].createElement("span",{className:"uploading"},"上传中..."),c["default"].createElement("img",{src:"data:image/png;base64,"+t.data}))}))):void 0,c["default"].createElement("div",{className:"row add-people"},c["default"].createElement("h4",null,"审批人",c["default"].createElement("span",null,this.state.isSet?"(管理员已设置审批人)":void 0)),c["default"].createElement("div",{className:"people-list"},this.state.authList.map(function(t,n){return c["default"].createElement("span",null,c["default"].createElement("div",{className:"item",key:n,onClick:e.delPeople.bind(e,n)},e.formatImg(t),t.error?void 0:c["default"].createElement("img",{onError:e.errorImg.bind(e,t),src:"http://n1.store.uban360.com:7188/sfs/avatar?uid="+t.uid}),c["default"].createElement("div",{className:"userName"},t.name)),e.state.isSet&&n==e.state.authList.length-1?void 0:c["default"].createElement("i",{className:"iconfont icon-shenpiliucheng"}))}),this.state.isSet?void 0:c["default"].createElement("div",{className:"item",onClick:this.addUser.bind(this)},c["default"].createElement("i",{className:"iconfont icon-113"})))),c["default"].createElement("div",{className:"row add-people"},c["default"].createElement("h4",null,"知会人",c["default"].createElement("span",null,"(点击头像可删除)")),c["default"].createElement("div",{className:"people-list"},this.state.informList.map(function(t,n){return c["default"].createElement("div",{className:"item",key:n,onClick:e.delPeople2.bind(e,n)},e.formatImg(t),t.error?void 0:c["default"].createElement("img",{onError:e.errorImg.bind(e,t),src:"http://n1.store.uban360.com:7188/sfs/avatar?uid="+t.uid}),c["default"].createElement("div",{className:"userName"},t.name))}),c["default"].createElement("div",{className:"item",onClick:this.addUser2.bind(this)},c["default"].createElement("i",{className:"iconfont icon-113"})))),c["default"].createElement("a",{className:"btn-submit",onClick:this.submit.bind(this)},"提交"),this.state.dialog?this.renderDialog():void 0)}}]),t}(j);t["default"]=_},138:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(2),s=a(u),c=n(47),f=a(c),p=n(128),d=a(p),m=n(130),h=a(m),y=n(132),v=a(y),b=n(32),g=a(b),E=n(27),w=a(E),T=s["default"].Component,O=function(e){function t(e){r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.status={isLast:0,isMeToDeal:!1,id:0,isEnd:!1},n.state={detail:{approveDetailVo:[]},customStruct:{detailJArr:[]},userInfo:{}},n}return i(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this;console.log("will");var t={};t.applyId=this.props.params.id,w["default"].ajax("queryApplyDetail",{method:"POST",body:JSON.stringify(t)}).then(function(t){e.setState({userInfo:{uid:t.result.uid,uname:t.result.uname,avatar:t.result.avatar},detail:t.result}),console.log(e.state)}),this.setState({extraknower:[{uid:"10101001610432",name:"田想兵",avatar:"http://n1.store.uban360.com:7188/sfs/avatar?uid=10101001610432"}]})}},{key:"formatImg",value:function(e){return e.error?s["default"].createElement("div",{className:"img",style:{backgroundColor:e.color}},e.uname):void 0}},{key:"errorImg",value:function(e,t){console.log(t);var n=["#f17474","#7ac47a","#efbc6b","#75a4d7","#45b2e3"],a=n[e.uid%5];
e.error=!0,e.color=a,this.setState({userInfo:this.state.userInfo})}},{key:"errorImg2",value:function(e,t){console.log(t);var n=["#f17474","#7ac47a","#efbc6b","#75a4d7","#45b2e3"],a=n[e.uid%5];e.error=!0,e.color=a,this.setState({detail:this.state.detail})}},{key:"renderDetail",value:function(){var e=this.props.params.type;switch(parseInt(e)){case 5:return s["default"].createElement(d["default"],{ref:"myForm",detail:this.state.detail,stage:this});case 4:return s["default"].createElement(h["default"],{ref:"myForm",detail:this.state.detail,stage:this});case 6:return console.log("通用"),s["default"].createElement(v["default"],{ref:"myForm",detail:this.state.detail,stage:this})}}},{key:"renderStatus",value:function(e){var t={0:"fqsq",1:"spz",2:"spty",3:"spjj",4:"ych",5:"wsp"},n={0:"发起申请",1:"审批中",2:"审批同意",3:"审批拒绝",4:"已撤回",5:"未审批"},a={0:"101",1:"105",2:"102",3:"103",4:"106",5:"104"};return s["default"].createElement("div",{className:"state "+t[e.toString()]},s["default"].createElement("i",{className:"iconfont icon-"+a[e.toString()]}),n[e.toString()])}},{key:"submit",value:function(e){console.log(e);var t={};t.ts=+new Date,t.token=g["default"].load("token"),t.applyId=this.props.params.id,t.orgId=g["default"].load("orgId"),t.uid=g["default"].load("uid"),t.approveStatus=e,t.approveDesc="审批理由",t.approveOrder=this.status.approveOrder,t.isLast=this.status.isLast,e==-1&&(console.log("重新申请"),location.href="/#create/"+this.props.params.type+"/"+this.props.params.title+"/"+this.props.params.id)}},{key:"renderButton",value:function(){var e=this.state.detail,t=!1,n="fromme"==this.props.params.pageType,a=g["default"].load("userId");"2"!=e.approveStatus&&"3"!=e.approveStatus&&"4"!=e.approveStatus||(this.status.isEnd=!0);for(var r=e.approveDetailVo.length-1;r>=0;r--){var o=e.approveDetailVo[r];if(e.uid==a&&"3"==e.approveStatus&&(t=!0),1==o.approveStatus&&(this.status.approveOrder=o.approveOrder),1==o.approveStatus&&o.approveOrder==e.approveDetailVo.length-1&&(this.status.isLast=1),a==o.uid&&(this.status.id=o.id),a==o.uid&&1==o.approveStatus&&(this.status.isMeToDeal=!0),3==o.approveStatus)break}var i=this.status;if(n){if(!i.isEnd)return s["default"].createElement("a",{className:"bottomBtn",onClick:this.submit.bind(this,4)},"撤回")}else if(i.isMeToDeal)return s["default"].createElement("div",{className:"two"},s["default"].createElement("a",{className:"bottomBtn jj",onClick:this.submit.bind(this,3)},"拒绝"),s["default"].createElement("a",{className:"bottomBtn",onClick:this.submit.bind(this,2)},"同意"));if(t)return s["default"].createElement("a",{className:"bottomBtn",onClick:this.submit.bind(this,-1)},"重新申请")}},{key:"render",value:function(){var e=this;return s["default"].createElement("div",{className:"detail-info"},s["default"].createElement(f["default"],{title:this.props.params.title+"详情"}),s["default"].createElement("div",{className:"box userInfo"},s["default"].createElement("h3",null,s["default"].createElement("span",{className:"userAvatar"},this.formatImg(this.state.userInfo),this.state.userInfo.error?void 0:s["default"].createElement("img",{onError:this.errorImg.bind(this,this.state.userInfo),src:"http://n1.store.uban360.com:7188/sfs/avatar?uid="+this.state.userInfo.uid})),s["default"].createElement("span",{className:"uname"},this.state.detail.uname)),s["default"].createElement("div",{className:"detail-row"},s["default"].createElement("label",null,"所在部门："),s["default"].createElement("span",null,this.state.detail.deptName)),this.renderDetail()),s["default"].createElement("h4",null,"请假流程"),s["default"].createElement("div",{className:"box process"},s["default"].createElement("div",{className:"line"}),(this.state.detail.approveDetailVo||[]).map(function(t){return s["default"].createElement("div",{className:"item"},e.renderStatus(t.approveStatus),s["default"].createElement("div",{className:"user-box"},e.formatImg(t),t.error?void 0:s["default"].createElement("img",{onError:e.errorImg2.bind(e,t),src:"http://n1.store.uban360.com:7188/sfs/avatar?uid="+t.uid}),s["default"].createElement("div",{className:"userName"},t.uname,s["default"].createElement("div",{className:"time"},t.approveDate))))})),s["default"].createElement("div",{className:"box zhr"},s["default"].createElement("h2",null,"知会人"),s["default"].createElement("div",{className:"zhr-list"},function(){var t=(e.state.extraknower||[]).map(function(e){return e.name});return t.join("、")}())),this.renderButton())}}]),t}(T);t["default"]=O},139:function(e,t){"use strict"},140:function(e,t){"use strict"},141:function(e,t,n){var a,r;/**
	 * @preserve jquery-param (c) 2015 KNOWLEDGECODE | MIT
	 */
!function(n){"use strict";var o=function(e){var t=function(e,t,n){n="function"==typeof n?n():null===n?"":void 0===n?"":n,e[e.length]=encodeURIComponent(t)+"="+encodeURIComponent(n)},n=function(e,a,r){var o,i,l;if("[object Array]"===Object.prototype.toString.call(a))for(o=0,i=a.length;o<i;o++)n(e+"["+("object"==typeof a[o]?o:"")+"]",a[o],r);else if(a&&"[object Object]"===a.toString())for(l in a)a.hasOwnProperty(l)&&(e?n(e+"["+l+"]",a[l],r,t):n(l,a[l],r,t));else if(e)t(r,e,a);else for(l in a)t(r,l,a[l]);return r};return n("",e,[]).join("&").replace(/%20/g,"+")};"object"==typeof e&&"object"==typeof e.exports?e.exports=o:(a=[],r=function(){return o}.apply(t,a),!(void 0!==r&&(e.exports=r)))}(this)},142:function(e,t,n){(function(e,t,n){!function(e){function a(e){return"function"==typeof e}function r(e){return"object"==typeof e}function o(e){"undefined"!=typeof t?t(e):"undefined"!=typeof n&&n.nextTick?n.nextTick(e):setTimeout(e,0)}var i;e[0][e[1]]=function l(e){var t,n=[],u=[],s=function(e,a){return null==t&&null!=e&&(t=e,n=a,u.length&&o(function(){for(var e=0;e<u.length;e++)u[e]()})),t};return s.then=function(s,c){var f=l(e),p=function(){function e(t){var n,o=0;try{if(t&&(r(t)||a(t))&&a(n=t.then)){if(t===f)throw new TypeError;n.call(t,function(){o++||e.apply(i,arguments)},function(e){o++||f(!1,[e])})}else f(!0,arguments)}catch(l){o++||f(!1,[l])}}try{var o=t?s:c;a(o)?e(o.apply(i,n||[])):f(t,n)}catch(l){f(!1,[l])}};return null!=t?o(p):u.push(p),f},e&&(s=e(s)),s}}([e,"exports"])}).call(t,n(263)(e),n(74).setImmediate,n(122))},143:function(e,t,n){/*! qwest 4.4.4 (https://github.com/pyrsmk/qwest) */
e.exports=function(){var e="undefined"!=typeof window?window:self,t=n(142),a=n(141),r={},o="json",i="post",l=null,u=0,s=[],c=e.XMLHttpRequest?function(){return new e.XMLHttpRequest}:function(){return new ActiveXObject("Microsoft.XMLHTTP")},f=""===c().responseType,p=function(n,p,d,m,h){n=n.toUpperCase(),d=d||null,m=m||{};for(var y in r)if(!(y in m))if("object"==typeof r[y]&&"object"==typeof m[y])for(var v in r[y])m[y][v]=r[y][v];else m[y]=r[y];var b,g,E,w,T,O=!1,S=!1,k=!1,j=0,_={},N={text:"*/*",xml:"text/xml",json:"application/json",post:"application/x-www-form-urlencoded",document:"text/html"},P={text:"*/*",xml:"application/xml; q=1.0, text/xml; q=0.8, */*; q=0.1",json:"application/json; q=1.0, text/*; q=0.8, */*; q=0.1"},x=!1,A=t(function(t){return t.abort=function(){k||(g&&4!=g.readyState&&g.abort(),x&&(--u,x=!1),k=!0)},t.send=function(){if(!x){if(u==l)return void s.push(t);if(k)return void(s.length&&s.shift().send());if(++u,x=!0,g=c(),b&&("withCredentials"in g||!e.XDomainRequest||(g=new XDomainRequest,S=!0,"GET"!=n&&"POST"!=n&&(n="POST"))),S?g.open(n,p):(g.open(n,p,m.async,m.user,m.password),f&&m.async&&(g.withCredentials=m.withCredentials)),!S)for(var a in _)_[a]&&g.setRequestHeader(a,_[a]);if(f&&"auto"!=m.responseType)try{g.responseType=m.responseType,O=g.responseType==m.responseType}catch(r){}f||S?(g.onload=C,g.onerror=I,S&&(g.onprogress=function(){})):g.onreadystatechange=function(){4==g.readyState&&C()},m.async?"timeout"in g?(g.timeout=m.timeout,g.ontimeout=L):E=setTimeout(L,m.timeout):S&&(g.ontimeout=function(){}),"auto"!=m.responseType&&"overrideMimeType"in g&&g.overrideMimeType(N[m.responseType]),h&&h(g),S?setTimeout(function(){g.send("GET"!=n?d:null)},0):g.send("GET"!=n?d:null)}},t}),C=function(){var t;if(x=!1,clearTimeout(E),s.length&&s.shift().send(),!k){--u;try{if(O&&"response"in g&&null!==g.response)T=g.response;else{if(t=m.responseType,"auto"==t)if(S)t=o;else{var n=g.getResponseHeader("Content-Type")||"";t=n.indexOf(N.json)>-1?"json":n.indexOf(N.xml)>-1?"xml":"text"}switch(t){case"json":if(g.responseText.length)try{T="JSON"in e?JSON.parse(g.responseText):new Function("return ("+g.responseText+")")()}catch(a){throw"Error while parsing JSON body : "+a}break;case"xml":try{e.DOMParser?T=(new DOMParser).parseFromString(g.responseText,"text/xml"):(T=new ActiveXObject("Microsoft.XMLDOM"),T.async="false",T.loadXML(g.responseText))}catch(a){T=void 0}if(!T||!T.documentElement||T.getElementsByTagName("parsererror").length)throw"Invalid XML";break;default:T=g.responseText}}if("status"in g&&!/^2|1223/.test(g.status))throw g.status+" ("+g.statusText+")";A(!0,[g,T])}catch(a){A(!1,[a,g,T])}}},I=function(e){k||(e="string"==typeof e?e:"Connection aborted",A.abort(),A(!1,[new Error(e),g,null]))},L=function(){k||(m.attempts&&++j==m.attempts?I("Timeout ("+p+")"):(g.abort(),x=!1,A.send()))};if(m.async=!("async"in m)||!!m.async,m.cache="cache"in m&&!!m.cache,m.dataType="dataType"in m?m.dataType.toLowerCase():i,m.responseType="responseType"in m?m.responseType.toLowerCase():"auto",m.user=m.user||"",m.password=m.password||"",m.withCredentials=!!m.withCredentials,m.timeout="timeout"in m?parseInt(m.timeout,10):3e4,m.attempts="attempts"in m?parseInt(m.attempts,10):1,w=p.match(/\/\/(.+?)\//),b=w&&!!w[1]&&w[1]!=location.host,"ArrayBuffer"in e&&d instanceof ArrayBuffer?m.dataType="arraybuffer":"Blob"in e&&d instanceof Blob?m.dataType="blob":"Document"in e&&d instanceof Document?m.dataType="document":"FormData"in e&&d instanceof FormData&&(m.dataType="formdata"),null!==d)switch(m.dataType){case"json":d=JSON.stringify(d);break;case"post":d=a(d)}if(m.headers){var M=function(e,t,n){return t+n.toUpperCase()};for(w in m.headers)_[w.replace(/(^|-)([^-])/g,M)]=m.headers[w]}return"Content-Type"in _||"GET"==n||m.dataType in N&&N[m.dataType]&&(_["Content-Type"]=N[m.dataType]),_.Accept||(_.Accept=m.responseType in P?P[m.responseType]:"*/*"),b||"X-Requested-With"in _||(_["X-Requested-With"]="XMLHttpRequest"),m.cache||"Cache-Control"in _||(_["Cache-Control"]="no-cache"),"GET"==n&&d&&"string"==typeof d&&(p+=(/\?/.test(p)?"&":"?")+d),m.async&&A.send(),A},d=function(e){var n=[],a=0,r=[];return t(function(t){var o=-1,i=function(e){return function(i,l,u,s){var c=++o;return++a,n.push(p(e,t.base+i,l,u,s).then(function(e,n){r[c]=arguments,--a||t(!0,1==r.length?r[0]:[r])},function(){t(!1,arguments)})),t}};t.get=i("GET"),t.post=i("POST"),t.put=i("PUT"),t["delete"]=i("DELETE"),t["catch"]=function(e){return t.then(null,e)},t.complete=function(e){var n=function(){e()};return t.then(n,n)},t.map=function(e,t,n,a,r){return i(e.toUpperCase()).call(this,t,n,a,r)};for(var l in e)l in t||(t[l]=e[l]);return t.send=function(){for(var e=0,a=n.length;e<a;++e)n[e].send();return t},t.abort=function(){for(var e=0,a=n.length;e<a;++e)n[e].abort();return t},t})},m={base:"",get:function(){return d(m).get.apply(this,arguments)},post:function(){return d(m).post.apply(this,arguments)},put:function(){return d(m).put.apply(this,arguments)},"delete":function(){return d(m)["delete"].apply(this,arguments)},map:function(){return d(m).map.apply(this,arguments)},xhr2:f,limit:function(e){return l=e,m},setDefaultOptions:function(e){return r=e,m},setDefaultXdrResponseType:function(e){return o=e.toLowerCase(),m},setDefaultDataType:function(e){return i=e.toLowerCase(),m},getOpenRequests:function(){return u}};return m}()},144:function(e,t){function n(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");var n={},a=t||{},i=e.split(/; */),l=a.decode||o;return i.forEach(function(e){var t=e.indexOf("=");if(!(t<0)){var a=e.substr(0,t).trim(),o=e.substr(++t,e.length).trim();'"'==o[0]&&(o=o.slice(1,-1)),void 0==n[a]&&(n[a]=r(o,l))}}),n}function a(e,t,n){var a=n||{},r=a.encode||i;if(!l.test(e))throw new TypeError("argument name is invalid");var o=r(t);if(o&&!l.test(o))throw new TypeError("argument val is invalid");var u=[e+"="+o];if(null!=a.maxAge){var s=a.maxAge-0;if(isNaN(s))throw new Error("maxAge should be a Number");u.push("Max-Age="+s)}if(a.domain){if(!l.test(a.domain))throw new TypeError("option domain is invalid");u.push("Domain="+a.domain)}if(a.path){if(!l.test(a.path))throw new TypeError("option path is invalid");u.push("Path="+a.path)}return a.expires&&u.push("Expires="+a.expires.toUTCString()),a.httpOnly&&u.push("HttpOnly"),a.secure&&u.push("Secure"),u.join("; ")}function r(e,t){try{return t(e)}catch(n){return e}}/*!
	 * cookie
	 * Copyright(c) 2012-2014 Roman Shtylman
	 * Copyright(c) 2015 Douglas Christopher Wilson
	 * MIT Licensed
	 */
t.parse=n,t.serialize=a;var o=decodeURIComponent,i=encodeURIComponent,l=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},145:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={HTML:"htmlAttributes",TITLE:"title",BASE:"base",META:"meta",LINK:"link",SCRIPT:"script",STYLE:"style"};t.TAG_NAMES=n;var a={NAME:"name",CHARSET:"charset",HTTPEQUIV:"http-equiv",REL:"rel",HREF:"href",PROPERTY:"property",SRC:"src",INNER_HTML:"innerHTML",CSS_TEXT:"cssText"};t.TAG_PROPERTIES=a;var r={charset:"charSet","http-equiv":"httpEquiv"};t.REACT_TAG_MAP=r},146:function(e,t,n){function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(e,t,n){for(var a=!0;a;){var r=e,o=t,i=n;a=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,o);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(i)}var s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=i,a=!0,l=s=void 0}},u=n(2),s=a(u),c=function(e){function t(){r(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"render",value:function(){return null}}]),t}(s["default"].Component);t["default"]=c,e.exports=t["default"]},147:function(e,t,n){function a(e){return null===e||void 0===e}function r(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}function o(e,t,n){var o,c;if(a(e)||a(t))return!1;if(e.prototype!==t.prototype)return!1;if(u(e))return!!u(t)&&(e=i.call(e),t=i.call(t),s(e,t,n));if(r(e)){if(!r(t))return!1;if(e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}try{var f=l(e),p=l(t)}catch(d){return!1}if(f.length!=p.length)return!1;for(f.sort(),p.sort(),o=f.length-1;o>=0;o--)if(f[o]!=p[o])return!1;for(o=f.length-1;o>=0;o--)if(c=f[o],!s(e[c],t[c],n))return!1;return typeof e==typeof t}var i=Array.prototype.slice,l=n(149),u=n(148),s=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:o(e,t,n))}},148:function(e,t){function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function a(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=r?n:a,t.supported=n,t.unsupported=a},149:function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports="function"==typeof Object.keys?Object.keys:n,t.shim=n},150:function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function a(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var a=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==a.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(o){return!1}}var r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=a()?Object.assign:function(e,t){for(var a,i,l=n(e),u=1;u<arguments.length;u++){a=Object(arguments[u]);for(var s in a)r.call(a,s)&&(l[s]=a[s]);if(Object.getOwnPropertySymbols){i=Object.getOwnPropertySymbols(a);for(var c=0;c<i.length;c++)o.call(a,i[c])&&(l[i[c]]=a[i[c]])}}return l}},151:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(2),u=a(l),s=n(152),c=a(s),f=n(153),p=a(f);e.exports=function(e,t,n){function a(e){return e.displayName||e.name||"Component"}if("function"!=typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if("undefined"!=typeof n&&"function"!=typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(s){function f(){m=e(d.map(function(e){return e.props})),h.canUseDOM?t(m):n&&(m=n(m))}if("function"!=typeof s)throw new Error("Expected WrappedComponent to be a React component.");var d=[],m=void 0,h=function(e){function t(){r(this,t),e.apply(this,arguments)}return o(t,e),t.peek=function(){return m},t.rewind=function(){if(t.canUseDOM)throw new Error("You may ony call rewind() on the server. Call peek() to read the current state.");var e=m;return m=void 0,d=[],e},t.prototype.shouldComponentUpdate=function(e){return!p["default"](e,this.props)},t.prototype.componentWillMount=function(){d.push(this),f()},t.prototype.componentDidUpdate=function(){f()},t.prototype.componentWillUnmount=function(){var e=d.indexOf(this);d.splice(e,1),f()},t.prototype.render=function(){return u["default"].createElement(s,this.props)},i(t,null,[{key:"displayName",value:"SideEffect("+a(s)+")",enumerable:!0},{key:"canUseDOM",value:c["default"].canUseDOM,enumerable:!0}]),t}(l.Component);return h}}},152:function(e,t){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),a={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=a},153:function(e,t){"use strict";function n(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=a.bind(t),i=0;i<n.length;i++)if(!o(n[i])||e[n[i]]!==t[n[i]])return!1;return!0}var a=Object.prototype.hasOwnProperty;e.exports=n},263:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}});